{% extends "frontend/homepage.html" %}
{% load static %}
{% block css %}
{% endblock %}

        <link rel="shortcut icon" href="assets/images/favicon.ico">
    
        <!-- Bootstrap Css -->
        <link href="{% static 'static/assets/css/bootstrap.min.css' %}" id="bootstrap-style" rel="stylesheet" type="text/css">
        <!-- Icons Css -->
        <link href="{% static 'static/assets/css/icons.min.css' %}" rel="stylesheet" type="text/css">
        <!-- App Css-->
        <link href="{% static 'static/assets/css/app.min.css' %}" id="app-style" rel="stylesheet" type="text/css"> 

{% block content %}
<div style="background-color: #f9f9f9;">
{% comment %} <div class="container my-5" style="background-color: #f9f9f9;">
    <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
        <div class="d-flex justify-content-center" style="margin: 15px; margin-top:0px; padding:25px;">
            <h4 style="">Find the right person for your shots!</h4>
        </div>
        <form method='GET' action="{% url 'photographer:photographers' %}">
            <div class="d-flex justify-content-center" style="margin: 15px; padding:25px;"> 
                <input class="form-control search mr-sm-2 w-25" type="search" placeholder="Search your photographer" {% if search_term %} value= {{ search_term }} {% endif %} name='search'>
                <button class="btn btn-outline-secondary" type="submit" style="margin-left: 3px; border: none;"><i class="bi bi-search">Search</i> </button>
            </div> 
            {% if no_results %}
            <div class="d-flex justify-content-center">
                <div class="alert alert-info w-25">
                    {{ no_results }}
                </div>
            </div>
            {% endif %}            
        </form>
    </div> {% endcomment %}
    <div class="container my-5">
        <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
          <div class="col-sm-8 py-5 mx-auto">
            <h1 style="display-5 fw-normal">Find your photographer â€“ search, connect, book.</h1>
                <form method='GET' action="{% url 'photographer:photographers' %}">
                    <div class="d-flex justify-content-center" style="margin: 15px; padding:25px;"> 
                        <input class="form-control search mr-sm-2 w-50" type="search" placeholder="Search your photographer" {% if search_term %} value= {{ search_term }} {% endif %} name='search'>
                        <button class="btn btn-outline-secondary" type="submit" style="margin-left: 3px; border: none;"><i class="bi bi-search">Search</i> </button>
                    </div> 
                    {% if no_results %}
                    <div class="d-flex justify-content-center">
                        <div class="alert alert-info w-50">
                            {{ no_results }}
                        </div>
                    </div>
                    {% endif %}            
                </form>
            </div>
        </div>
      </div>
</div>

<div class="container" style="margin-top: 50px; background-color: #f9f9f9;">
    <div class="row" style="display: grid; grid-template-columns: repeat(3, 1fr); grid-gap: 10px;">
        {% for photographer in photographers %}            
        <div class="card rounded-3 border shadow-lg">
            <a href="{% url 'photographer:photographer-detail' photographer.id %}" class="text-decoration-none text-dark">
                <div class="card-body">
                    <h4 class="card-title">{{photographer.first_name}} {{photographer.last_name}}</h4>
                    <h6 class="badge rounded-pill bg-light text-dark">{{photographer.category}}</h6>
                </div>
                <img class="rounded-circle" src="{{ photographer.profile_pic.url }}" alt="{{photographer.first_name}}'s pfp">
                <div class="card-body">
                    <p class="card-text">{{photographer.description}}</p>
                    <span class="badge bg-warning-subtle text-dark">{{photographer.email}}</span>
                    <span class="badge bg-warning-subtle text-dark">{{photographer.phone_no}}</span>
                    <span class="badge bg-warning-subtle text-dark">{{photographer.rating}}</span>
                    <span class="badge bg-warning-subtle text-dark">{{photographer.rate}}</span>
                </div>
            </a>
        </div>
        {% endfor %}
    </div><!-- end col -->   
</div>
</div>
{% endblock %}